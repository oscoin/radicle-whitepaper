\begin{tikzpicture}[scale=0.96]
    \tikzstyle{root} = [draw=black, thick, fill=black!20, rectangle, minimum height=4em, minimum width=4em, node distance=3em];
    \tikzstyle{org-block} = [draw, thick, fill=white, rectangle, minimum height=3em, minimum width=3em, node distance=2em];
    \tikzstyle{block-group} = [fill=black!10, rectangle, minimum height=3em, minimum width=3em, node distance=3em];
    \tikzstyle{proof} = [latex-, dashed];

    \tikzstyle{update-root} = [<-, draw=black, bend angle=45];
    \tikzstyle{pointer} = [thin, -latex];

    \node (org-a-0) at (-2.5, 2.5) {\small{$B_{i-1}$}};
    \node[org-block] (org-a-1) [right=of org-a-0] {\small{$B_{i}$}}
        edge [pointer, dashed] (org-a-0.east);
    \node[org-block] (org-a-2)  [right=of org-a-1] {\small{$B_{i+1}$}}
        edge [pointer] (org-a-1.east);
    \node[org-block] (org-a-3)  [right=of org-a-2] {\small{$B_{i+2}$}}
        edge [pointer] (org-a-2.east);
    \node[org-block] (org-a-4)  [right=of org-a-3] {\small{$B_{i+3}$}}
        edge [pointer] (org-a-3.east);
    \node[org-block] (org-a-5)  [right=of org-a-4] {\small{$B_{i+4}$}}
        edge [pointer] (org-a-4.east);
    \node (org-a-6)  [right=of org-a-5] {\small{$B_{i+5}$}}
        edge [pointer, dashed] (org-a-5.east);

    \node (root-0) at (-3, 0)              {$B_{e-1}$};
    \node (root-1) at (-1, 0) [root] {$B_{e}$}
        edge [pointer, dashed] (root-0.east);
    \node (root-2) at ( 3, 0) [root] {$B_{e+1}$}
        edge [pointer] (root-1.east);
    \node (root-3) at ( 7, 0) [root] {$B_{e+2}$}
        edge [pointer] (root-2.east);
    \node (root-4) at ( 9, 0)              {$B_{e+2}$}
        edge [pointer, dashed] (root-3.east);

    \node (org-b-0) at (-1, -2.5) {\small{$B_{j-1}$}};
    \node[org-block] (org-b-1) [right=of org-b-0] {\small{$B_{j}$}}
        edge [pointer, dashed] (org-b-0.east);
    \node[org-block] (org-b-2) [right=of org-b-1] {\small{$B_{j+1}$}}
        edge [pointer] (org-b-1.east);
    \node[org-block] (org-b-3) [right=of org-b-2] {\small{$B_{j+2}$}}
        edge [pointer] (org-b-2.east);
    \node[org-block] (org-b-4) [right=of org-b-3] {\small{$B_{j+3}$}}
        edge [pointer] (org-b-3.east);
    \node            (org-b-5) [right=of org-b-4] {\small{$B_{j+4}$}}
        edge [pointer, dashed] (org-b-4.east);

    \begin{scope}[on background layer]
        \node (org-a-group-1) [block-group, fit=(org-a-1) (org-a-2) (org-a-3)] {}
            edge [proof] node[auto, sloped, xshift=-3mm] {\Small{$proof$}} (root-2.north);
        \node (org-b-group-1) [block-group, fit=(org-b-1) (org-b-2)] {}
            edge [proof] node[auto, sloped, xshift=3mm] {\Small{$proof$}} (root-2.south);
        \node (org-b-group-2) [block-group, fit=(org-b-3) (org-b-4)] {}
            edge [proof] node[auto, sloped, xshift=3mm] {\Small{$proof$}} (root-3.south);
    \end{scope}
\end{tikzpicture}
